# Gather

## 参数说明

- **OpName**：GatherOperation
- **PARAM**
  **Param Type**：OpParam::Gather
- **In/Out Tensor**

| 名称    | 类型 | dims                             | dtype                         | format |
| ------- | ---- | -------------------------------- | ----------------------------- | ------ |
| x       | In   | [$d_0$, $d_1$, ..., $d_n$] | float16/float/uint32/bfloat16 | ND     |
| indices | In   | [$d_0$, $d_1$, ..., $d_n$] | int64/int32                   | ND     |
| y       | Out  | [$d_0$, $d_1$, ..., $d_n$] | 同 `x`                      | ND     |

## 功能描述

- 算子功能：对于输入数据x,按axis维度根据索引表indices取数
- 算子公式：
  outTensor dims推导：
  假设x dims = [..., a, b, c, ...], 其中b为索引为axis的轴维度,表示在axis轴上取数,
  indices dims = [d,..., e],
  则y dims = [..., a, d,..., e, c, ...]

## 示例

```
输入：
    x = [[16464,  14152,  15352,   6112,   6956],
         [58368,  32352,  62240,  57664,  10296],
         [39008,  10280,  11656,  44384,   8696],
         [10472,  60224,  44736,  43744,   7048]]

    indices = [[1],
               [3],
               [2]]

若axis = [1], x按列索引从行取数, 根据indices表, 分别对x的4行里, 先取第1个数, 再取第3个数, 最后取第2个数, 获得查找数据。
 
输出:
        (1,.,.) = 
        14152
        6112
        15352
        (2,.,.) = 
        32352
        57664
        62240
        (3,.,.) = 
        10280
        44384
        11656
        (4,.,.) = 
        60224
        43744
        44736
```

【使用限制】
输入indices Tensor中的每个element小于gather轴维度，在上述例子中gather轴为1（axis = {1}），对应输入数据x的第1维，大小为5，即indices中每个element取值范围为[0, 5)

## 支持芯片型号

| 芯片名称   | 约束                   |
| ---------- | ---------------------- |
| ascend910b | 无                     |
| ascend310p | 不支持bfloat16数据类型 |

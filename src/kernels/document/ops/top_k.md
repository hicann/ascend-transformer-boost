# TopK

## 参数说明

- **OpName**：SortOperation
- **PARAM**
  **Param Type**：OpParam::Sort

| 名称 | 类型             | 描述                                        |
| ---- | ---------------- | ------------------------------------------- |
| num  | SVector<Int32_t> | topkv2算子中的k,选择的最后一维top元素的数量 |

- **In/Out Tensor**

| 名称    | 类型 | dims                             | dtype                      | format | 描述                                |
| ------- | ---- | -------------------------------- | -------------------------- | ------ | ----------------------------------- |
| x       | In   | [$d_0$, $d_1$, ..., $d_n$] | float16、bfloat16、float32 | ND     | 应至少有k个元素                     |
| values  | Out  | [$d_0$, $d_1$, ..., $k$]   | 与x一致                    | ND     | 输出张量,最后一维排序后,最大的k个值 |
| indices | Out  | [$d_0$, $d_1$, ..., $k$]   | int32                      | ND     | 输出张量,k个值对应的索引            |

## 功能描述

- 算子功能：后处理计算功能。输入张量经过该算子实现在最后一维上降序排列,并保留最大的k个元素,输出张量及对应的索引。包含3个属性值,sorted为bool类型,当前固定为true,表明输出张量的最后一维是经过排序的;dim为int32类型,当前固定为-1,表明当前算子针对最后一维进行处理;largest为bool类型,当前固定为true,表明输出张量保留的是最大的k个元素。

## 示例

```
输入：
    num = [1]

    x = [[3.0, 4.0], 
         [5.0, 6.0]]

输出：
    z = [[4.0],
         [6.0]]

    z1 = [[1.0],
          [1.0]]
 
```

## 支持芯片型号

| 芯片名称   | 约束                   |
| ---------- | ---------------------- |
| ascend910b | 无                     |
| ascend310p | 不支持bfloat16数据类型 |
